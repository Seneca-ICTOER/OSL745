<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Labs/lab3">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Lab 3 - Virtual Networks | OSL745 - Administration of Open Source Systems</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Seneca-ICTOER.github.io/OSL745/Labs/lab3"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 3 - Virtual Networks | OSL745 - Administration of Open Source Systems"><meta data-rh="true" name="description" content="Lab 3"><meta data-rh="true" property="og:description" content="Lab 3"><link data-rh="true" rel="icon" href="/OSL745/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Seneca-ICTOER.github.io/OSL745/Labs/lab3"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io/OSL745/Labs/lab3" hreflang="en"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io/OSL745/Labs/lab3" hreflang="x-default"><link rel="icon" href="/OSL745/img/pwa/icon-512x512.png">
<link rel="manifest" href="/OSL745/manifest.json">
<meta name="theme-color" content="#DA291C">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#DA291C">
<link rel="apple-touch-icon" href="/OSL745/img/pwa/icon-192x192.png">
<link rel="mask-icon" href="/OSL745/img/pwa/icon-512x512.png" color="#DA291C">
<meta name="msapplication-TileImage" content="/OSL745/img/pwa/icon-512x512.png">
<meta name="msapplication-TileColor" content="#DA291C">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/OSL745/assets/css/styles.b562f4b2.css">
<link rel="preload" href="/OSL745/assets/js/runtime~main.bf56544f.js" as="script">
<link rel="preload" href="/OSL745/assets/js/main.cb4cd872.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/OSL745/"><div class="navbar__logo"><img src="/OSL745/img/logo.svg" alt="Seneca College" class="themedImage_ToTc themedImage--light_HNdA"><img src="/OSL745/img/logo-dark.svg" alt="Seneca College" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OSL745 - Administration of Open Source Systems</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSL745/">Welcome to OSL745</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OSL745/weekly-schedule">Weekly Schedule</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/OSL745/Labs/lab1">Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL745/Labs/lab1">Lab 1 - Installing Ubuntu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL745/Labs/lab2">Lab 2 - Creating and Using Virtual Machines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/OSL745/Labs/lab3">Lab 3 - Virtual Networks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL745/Labs/lab4">Lab 4 - Securing Networks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL745/Labs/lab5">Lab 5 - Introduction to Amazon Web Services (AWS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL745/Labs/lab6">Lab 6 - Amazon Web Services (AWS) Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL745/Labs/lab7">Lab 7 - Apache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL745/Labs/lab8">Lab 8 - DNS &amp; SSL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL745/Labs/lab9">Lab 9 - Amazon RDS Relational Database Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OSL745/Labs/lab10">Lab 10 - Auto Scaling and Elastic Load Balancing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OSL745/Assignments/assignment1">Assignments</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/OSL745/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Labs</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 3 - Virtual Networks</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Lab 3: Virtual Networks</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lab-preparation">Lab Preparation<a href="#lab-preparation" class="hash-link" aria-label="Direct link to Lab Preparation" title="Direct link to Lab Preparation">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="purpose-and-objectives-of-lab-3">Purpose and Objectives of Lab 3<a href="#purpose-and-objectives-of-lab-3" class="hash-link" aria-label="Direct link to Purpose and Objectives of Lab 3" title="Direct link to Purpose and Objectives of Lab 3">​</a></h3><p>In this lab, you will learn the basics of networking by using your <strong>Virtual Machines</strong>. You will first set up a <strong>virtual network</strong> among those machines. In addition, you will learn to set up <strong>local hostname resolution</strong> (/etc/hosts), <strong>service/port number resolution</strong> for troubleshooting purposes, and use shell scripts with arrays to store network configuration data.</p><p><img loading="lazy" alt="My Network" src="/OSL745/assets/images/My-network-6dda78825fb0ed51c882ba6656cea939.png" width="540" height="459" class="img_ev3q"></p><p>Setting up networks is an essential operation for a system administrator. Maintaining network connectivity and securing the network are also essential operations. In this lab, we will <strong>configure a private virtual network using static IP addresses</strong>. We will learn how to setup a DHCP network in lab 8.</p><p><strong>Main Objectives</strong></p><ol><li>Configure a private virtual network for your <strong>VMs</strong> and your <strong>ubuhost</strong> machine</li><li>Configure network interfaces for your Virtual Machines using both <strong>graphical</strong> and <strong>command-line</strong> utilities.</li><li>Use <strong>local hostname resolution</strong> to resolve hostnames to the corresponding IP addresses.</li><li>Use common networking utilities to associate network services with port numbers for troubleshooting purposes.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-required-materials">Minimum Required Materials<a href="#minimum-required-materials" class="hash-link" aria-label="Direct link to Minimum Required Materials" title="Direct link to Minimum Required Materials">​</a></h3><ul><li><strong>Solid State Drive</strong></li><li><strong>USB key</strong> (for backups)</li><li><strong>Lab Log Book</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux-command-reference">Linux Command Reference<a href="#linux-command-reference" class="hash-link" aria-label="Direct link to Linux Command Reference" title="Direct link to Linux Command Reference">​</a></h3><p><strong>Networking Utilities</strong></p><p>| <a href="http://man7.org/linux/man-pages/man8/ip.8.html" target="_blank" rel="noopener noreferrer">ip</a> | <a href="http://man7.org/linux/man-pages/man8/ping.8.html" target="_blank" rel="noopener noreferrer">ping</a> | <a href="http://man7.org/linux/man-pages/man8/arp.8.html" target="_blank" rel="noopener noreferrer">arp</a> | <a href="http://man7.org/linux/man-pages/man8/ss.8.html" target="_blank" rel="noopener noreferrer">ss</a> |</p><p><strong>Networking Configuration Files</strong></p><ul><li><a href="https://ubuntu.com/server/docs/configuring-networks" target="_blank" rel="noopener noreferrer">Ubuntu Network Configuration documentation</a></li><li><a href="https://linux.die.net/man/5/resolv.conf" target="_blank" rel="noopener noreferrer">resolv.conf</a></li></ul><p><strong>Additional Utilities</strong></p><ul><li><a href="http://man7.org/linux/man-pages/man1/find.1.html" target="_blank" rel="noopener noreferrer">find</a></li><li><a href="http://man7.org/linux/man-pages/man1/tail.1.html" target="_blank" rel="noopener noreferrer">tail</a></li><li><a href="http://man7.org/linux/man-pages/man1/cp.1.html" target="_blank" rel="noopener noreferrer">cp</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-1-configuring-a-virtual-network">Investigation 1: Configuring A Virtual Network<a href="#investigation-1-configuring-a-virtual-network" class="hash-link" aria-label="Direct link to Investigation 1: Configuring A Virtual Network" title="Direct link to Investigation 1: Configuring A Virtual Network">​</a></h2><p>For the remainder of this course, we will focus on configuring our VM&#x27;s to communicate across a (Virtual) network. This lab will focus on setting up a virtual network, connecting our VMs and ubuhost machine to the network, and configuring local hostname resolution to make it more convenient to use, troubleshoot, and protect. <strong>Lab 4</strong> will focus on configuring SSH and making access to the virtual network more secure.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-configuring-a-private-network-via-virtual-machine-manager">Part 1: Configuring a Private Network (Via Virtual Machine Manager)<a href="#part-1-configuring-a-private-network-via-virtual-machine-manager" class="hash-link" aria-label="Direct link to Part 1: Configuring a Private Network (Via Virtual Machine Manager)" title="Direct link to Part 1: Configuring a Private Network (Via Virtual Machine Manager)">​</a></h3><p>If we are going to setup a private virtual network, there are a number of steps to perform: First, define a new private network in the <strong>Virtual Machine Manager</strong> application; and second, <strong>configure each of our VMs to connect to this new private network</strong>. In Part 1, we will be perform the first operation. In part 2, we will be performing the second operation for all VMS (graphical and command-line).</p><p>Before configuring our network, we want to <strong>turn off dynamic network configuration for our Virtual Machines</strong> by turning off the &quot;<strong>default</strong>&quot; virtual network. We will then define our private network.</p><p><img loading="lazy" alt="osl745net" src="/OSL745/assets/images/osl745net-0228ff9e8e0678e7b3d2af10442a1849.png" width="512" height="601" class="img_ev3q"></p><p>This diagram shows the current network configuration of your <strong>ubuhost</strong> machine in relation to your <strong>Virtual Machines</strong>. In this section, you will be learning to change the default network settings for both your <strong>ubuhost</strong> machine and <strong>VMs</strong> to belong to a <strong>virtual network</strong> using fixed IP Addresses.</p><p><strong>Perform the following steps:</strong></p><ol><li>Launch your <strong>ubuhost</strong> and start the Virtual Machine Manager.</li><li>Make certain that the <strong>ubu1</strong>, and <strong>ubu2</strong> virtual machines are <strong>powered off</strong>.</li><li>In the Virtual Machine Manager dialog box, select <strong>Edit-&gt; Connection Details</strong>.
<img loading="lazy" alt="vmmedit" src="/OSL745/assets/images/vmmedit-21b541df95bec09bc8146f39979f3d1b.png" width="555" height="241" class="img_ev3q"></li><li>In the <strong>Connection Details</strong> dialog box, select the <strong>Virtual Networks</strong> tab</li><li>Click to de-select the <strong>Autostart (on boot)</strong> check-box options and click the <strong>Apply</strong> button.</li><li>Stop the default network by clicking on the <strong>stop</strong> button at the bottom left-side of the dialog box.
<img loading="lazy" alt="vmmdefnet" src="/OSL745/assets/images/vmmdefnet-33643f926fa3730be5342ede26c3e9b0.png" width="791" height="625" class="img_ev3q"></li><li>Click the <strong>add</strong> button (the button resembles a &quot;plus sign&quot;) to add a new network configuration.</li><li>Type the network name called: <strong>network1</strong>.</li><li>Click on IPv4 configuration, change the <strong>Network:</strong> address to <strong>192.168.100.0/24</strong></li><li>Leave the <strong>Enable DHCPv4</strong> checkbox checked and click the <strong>Finish</strong> button.
<img loading="lazy" alt="vmmnetwork1" src="/OSL745/assets/images/vmmnetwork1-378ba1322663080a589d303a9b289384.png" width="476" height="587" class="img_ev3q"></li><li>Select <strong>network1</strong> and make sure the <strong>State:</strong> is Active and <strong>Autostart: On Boot</strong> is enabled.
<img loading="lazy" alt="vmmnet1start" src="/OSL745/assets/images/vmmnet1start-147988670f57dcd9d804f330e90089ab.png" width="536" height="387" class="img_ev3q"></li><li>Close the Connection Details window and open a terminal on <strong>ubuhost</strong></li><li>Confirm that <strong>ubuhost</strong> is connected to <strong>network1</strong> and gather network information with the following commands:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Show network interfaces including host IPv4 address</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show IPv4 routes including default gateway</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> route</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="ubuhostipadd" src="/OSL745/assets/images/ubuhostipadd-8db4169a0cdcc0ef2c71386d92268c67.png" width="1053" height="464" class="img_ev3q"></p><blockquote><p>You can see that <strong>ubuhost</strong> has 3 network interfaces:</p><ul><li><strong>lo</strong> The &quot;loopback&quot; interface with the reserved loopback IPv4 address of <strong>127.0.0.1/8</strong></li><li><strong>enp34s0</strong> (The name may be slightly different)</li><li><strong>virbr1</strong> The interface connected to <strong>network1</strong> with the IPv4 address of <strong>192.168.100.1/24</strong></li></ul></blockquote><ol start="14"><li>Make a note of the IPv4 address for <strong>virbr1</strong> . Note it is the first usable IP in the subnet.
<img loading="lazy" alt="ubuhostiproute" src="/OSL745/assets/images/ubuhostiproute-107e9dcd65a0b99302f3bf1270116cb4.png" width="810" height="93" class="img_ev3q"></li></ol><blockquote><p>You can see that <strong>ubuhost</strong> is configured with a <strong>default gateway</strong> (default route) that is the IPv4 address of either the lab PC or your laptop.</p><p><strong>ubuhost</strong> is also connected to 2 networks. The physical network in the lab or your laptop, and the KVM/Qemu virtual network <strong>network1</strong> via the interface <strong>virbr1</strong></p></blockquote><p>We will now reconfigure each of our VMs to use our new virtual network <strong>network1</strong></p><ol start="15"><li>Start with the <strong>ubu1</strong> VM. Double-click on your <strong>ubu1</strong> VM, but instead of starting the VM, click on the <strong>View</strong> menu, and select: <strong>Details</strong></li><li>In the <strong>left pane</strong> of the Virtual Machine window, select <strong>NIC</strong>: and note that this NIC is connected to the <strong>Network source: &#x27;default&#x27;</strong></li><li>Change it to <strong>Virtual Network network1: NAT</strong> (i.e. the network that you just created) and click the <strong>Apply</strong> button.</li></ol><p><img loading="lazy" alt="ubu1vmnic" src="/OSL745/assets/images/ubu1vmnic-ee769ff029dbbe8bb72359fcbe65d5f5.png" width="613" height="356" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-configure-the-static-network-connection-using-command-line-tools">Part 2: Configure the static network connection using command line tools<a href="#part-2-configure-the-static-network-connection-using-command-line-tools" class="hash-link" aria-label="Direct link to Part 2: Configure the static network connection using command line tools" title="Direct link to Part 2: Configure the static network connection using command line tools">​</a></h3><p>The ubu1 and ubu2 VMs are <strong>text-based only</strong> systems, we cannot use a graphical tool to configure the connection to our network. We will learn how to perform this task by editing text files and command-line tools.</p><p>Although you can use the <strong>ip</strong> command to temporarily create a static IP address connection to a network, you need to add the network settings to the <strong>/etc/netplan/99_config.yaml</strong> file to automatically connect to the network upon system boot-up. <strong>Note:</strong> This file is in yaml (YAML ain&#x27;t markup language), which has it&#x27;s own syntax. It&#x27;s designed to be easy to read and understand. It makes use of whitespace (like Python). If your yaml files are not properly indented, they will not work.</p><p><strong>Perform the following steps on ubu1:</strong></p><ol><li>Click on <strong>View</strong> and select <strong>Console</strong>.</li><li>Start your <strong>ubu1</strong> VM, login, and use <strong>ip address show</strong> to check the current address.</li><li>The <strong><code>ip</code></strong> command can be used to display information about the <strong>interfaces</strong>, <strong>addresses</strong>, and <strong>routes</strong> configured in the system. It can also be used to control those configurations. Try the following commands on <strong>ubu1</strong>:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Display links (interfaces on a network) and the MAC address of those interfdaces</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> -brief </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Display configured IP addresses assigned to interfaces</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> -brief address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Display routes and default gateway</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> route</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>At this time you should will see the default routes and the IP obtained by DHCP through your virtual network. However, these are servers. Servers should have static IPs so you can reliably locate them on the network (or map FQDNs to them, which we will do later in the course).</li><li>To add a static address and default gateway to the interface use the following commands:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Add a static IPv4 address (you may have a different interface name)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> address </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">192.168</span><span class="token plain">.100.11/24 dev enp1s0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Make an interface down/up</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> </span><span class="token builtin class-name">set</span><span class="token plain"> enp1s0 down</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> </span><span class="token builtin class-name">set</span><span class="token plain"> enp1s0 up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>Confirm the effect of these commands.</li><li>Make sure your link is in an <strong>UP</strong> state with the static address and default gateway.</li></ol><p><img loading="lazy" alt="ubu1ipstatic" src="data:image/png;base64,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" width="1033" height="327" class="img_ev3q"></p><ol><li>Confirm your connection by pinging <strong>ubuhost</strong>&#x27;s ip address.</li><li>Test the connection to the Internet by pinging <strong><a href="http://www.google.ca" target="_blank" rel="noopener noreferrer">www.google.ca</a></strong> (<strong>ctrl + C</strong> to cancel this once you see it&#x27;s success or failure a few times).</li></ol><p><img loading="lazy" alt="ubu1pingtest1" src="/OSL745/assets/images/ubu1pingtest1-b2fd563ab03a9d1b683ed5f0c284ea29.png" width="1033" height="389" class="img_ev3q"></p><ol><li>If everything is working, reboot <strong>ubu1</strong></li><li>Login to ubu1 and display your ip configuration with <code>ip</code></li><li>All of the settings have been lost. They need to be made persistent by editing the <strong>/etc/netplan/99_config.yaml</strong> file</li><li>Edit the file and make the following changes to the &quot;primary network interface&quot; (Your interface name may be different)</li></ol><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">network</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">renderer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> networkd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ethernets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enp1s0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">addresses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 192.168.100.11/24</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">routes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">to</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">via</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.100.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">nameservers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">addresses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">192.168.100.1</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>Issue the following command to apply your configuration. <strong>Note:</strong> You should receive an error about the file permissions for <strong>/etc/netplan/99_config.yaml</strong>.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> netplan apply</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>Use <strong>chmod</strong> to make 99_config.yaml read and writable only by the user.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">600</span><span class="token plain"> /etc/netplan/99_config.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>Reissue the command to apply your configuration.</li><li>Issue a linux command to display your IP configuration.</li><li>Test your connection by pinging <strong><a href="http://www.google.ca" target="_blank" rel="noopener noreferrer">www.google.ca</a></strong>.</li><li>If the test is successful reboot <strong>ubu1</strong> and test again.</li><li>Now configure your <strong>ubu2</strong> VM for a persistent static network connection as well using the IPv4 address of <strong>192.168.100.12</strong>. Don&#x27;t forget to:</li></ol><ul><li>configure the VM to connect to <strong>network1</strong></li><li>configure the <strong>/etc/netplan/99_config.yaml</strong> file (don&#x27;t forget about the file permissions)</li><li>test connectivity after a reboot.</li></ul><p>You should now be able to ping both of your VM&#x27;s by address and any named host on the Internet from each of your VM&#x27;s</p><p><strong>Answer INVESTIGATION 1 observations / questions in your lab log book.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-2-managing-your-new-network">Investigation 2: Managing Your New Network<a href="#investigation-2-managing-your-new-network" class="hash-link" aria-label="Direct link to Investigation 2: Managing Your New Network" title="Direct link to Investigation 2: Managing Your New Network">​</a></h2><p>Creating private networks are an important task, but a system administrator also needs to manage the network to make it <strong>convenient to use</strong>, and <strong>troubleshoot</strong> network connectivity problems.</p><p>This investigation will expose you to useful &quot;tools&quot; and utilities to help accomplish this task. Future <strong>labs</strong> require that you understand these concepts, as you will expand on them. You should have a good general understanding how to use troubleshooting utilities (like <strong>ss</strong>).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-using-etchosts-file-for-local-hostname-resolution">Part 1: Using /etc/hosts File for Local Hostname Resolution<a href="#part-1-using-etchosts-file-for-local-hostname-resolution" class="hash-link" aria-label="Direct link to Part 1: Using /etc/hosts File for Local Hostname Resolution" title="Direct link to Part 1: Using /etc/hosts File for Local Hostname Resolution">​</a></h3><p>It is possible to connect to other hosts on the Internet by their domain name using DNS to resolve names to addresses.</p><p>However your VM&#x27;s are not registered as hosts with a DNS server so are only accessible by IP address. It can be hard to try to remember more than a couple of IP addresses. In this section, we will setup your network to use local hostname resolution so that we can connect by hostname.</p><p><strong>Hosts files vs. the Domain Name System</strong></p><p>On large public networks like the Internet or even large private networks we use a network service called <a href="http://en.wikipedia.org/wiki/Domain_Name_System" target="_blank" rel="noopener noreferrer">Domain Name System (DNS)</a> to resolve the human friendly hostnames like <strong><a href="http://www.debian.org" target="_blank" rel="noopener noreferrer">www.debian.org</a></strong> to the numeric addresses used by the IP protocol. On smaller networks we can use the <code>/etc/hosts</code> on each system to resolve names to addresses. Local hostname resolution using <code>/etc/hosts</code> was the way to map hostnames to IP addresses for <a href="https://en.wikipedia.org/wiki/ARPANET" target="_blank" rel="noopener noreferrer">ARPANET</a> (the predecessor to the Internet) prior to the development and release of DNS (the Domain Name System) in 1983/84. We will be learning about <strong>DNS</strong> in <strong>Lab 8</strong>.</p><p><strong>Perform the following steps:</strong></p><ol><li>Complete this investigation on <strong>both of your VMs</strong> and the <strong>ubuhost</strong> machine.</li><li>Use the <code>hostname</code> and <code>ip</code> commands on your <strong>ubuhost</strong> machine and both of your VM&#x27;s to gather the information needed to configure the <strong>/etc/hosts</strong> file on all of your Linux systems.</li><li>Edit the <strong>/etc/hosts</strong> file for <strong>ubuhost</strong>, and the <strong>ubu1</strong>, and <strong>ubu2</strong> VMs. Add the following contents to the <strong>/etc/hosts</strong> file (below the mappings for 127.0.0.1, which is the loopback IP). <strong>Note:</strong> You may need to correct the loopback entry of <strong>127.0.1.1</strong> on <strong>ubu2</strong> to map to <strong>ubu2</strong>. This is a holdover from when you cloned the VM in lab 2.</li></ol><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">192.168.100.1 ubuhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.100.11 ubu1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.100.12 ubu2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Verify that you can now ping all of your VMs from all of your VMs by the hostname instead of the IP address.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-network-connectivity-and-network-service-troubleshooting-utilities">Part 2: Network Connectivity and Network Service Troubleshooting Utilities<a href="#part-2-network-connectivity-and-network-service-troubleshooting-utilities" class="hash-link" aria-label="Direct link to Part 2: Network Connectivity and Network Service Troubleshooting Utilities" title="Direct link to Part 2: Network Connectivity and Network Service Troubleshooting Utilities">​</a></h3><p>Troubleshooting network problems is an extremely important and frequent task for a Linux/Unix system administrator. Since network services (such as file-server, print-servers, web-servers, and email-servers) depend on network connectivity, as Linux/Unix sysadmin must be able to quickly and effectively pin-point sources of network problems in order to resolve them.</p><p>Network service problems may not be entirely related to a &quot;broken&quot; network connection, but a service that is not running or not running correctly. The following table lists the most common listing of utilities to assist with detection of network connectivity or network service problems to help correct the problem.</p><p><strong>Common Network Troubleshooting Tools</strong></p><table><thead><tr><th><strong>Purpose</strong></th><th><strong>Command(s)</strong></th></tr></thead><tbody><tr><td>Network Connectivity</td><td><code>ping</code>, <code>arp</code>, <code>ip</code> (replaces deprecated <code>ifconfig</code>)</td></tr><tr><td>Network Service Status</td><td><code>ss</code> (replaces deprecated <code>netstat</code>)</td></tr></tbody></table><p>Read the first four sections of this <a href="https://www.baeldung.com/linux/arp-command" target="_blank" rel="noopener noreferrer">blogpost</a> about using the <strong><code>arp</code></strong> command to examine the <strong>arp cache</strong>.</p><p><strong>Perform the following steps:</strong></p><ol><li>Switch to your <strong>ubuhost</strong> machine and start a sudo shell.</li><li>Install the <strong><code>net-tools</code></strong> package.</li><li>Issue the <strong>ping</strong> command to test connectivity to your <strong>ubu1</strong>, and <strong>ubu2</strong> VMs.</li><li>Examine the contents of the ARP cache by using the command: <code>arp</code> What is the purpose of ARP?</li><li>Check the contents of the cache again by using the command: <code>arp -n</code> What was the difference in output?</li><li>How did the system resolve the IP address to hostname?</li></ol><p>An important task of any System Administrator is to monitor and control the type of connections that can be received by your host. Network applications that connect to (or talk to), Servers/Daemons/Services over a TCP/IP network send requests to a particular TCP or UDP port that is open and accepting requests.</p><ol start="7"><li>From <strong>ubuhost</strong> open 2 more terminals, use the <strong><code>ssh</code></strong> command to connect to <strong>ubu1</strong> and <strong>ubu2</strong></li><li>Switch to your <strong>ubu1</strong> VM, and use <strong><code>ssh</code></strong> to connect to <strong>ubuhost</strong></li><li>Switch to your <strong>ubu2</strong> VM, and use <strong><code>ssh</code></strong> to connect to <strong>ubuhost</strong></li><li>Switch back to <strong>ubuhost</strong></li></ol><p>On <strong>ubuhost</strong>, <strong>ubu1</strong> and <strong>ubu2</strong>, issue the following commands and observe the output:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Show all active UDP ports</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ss -au</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show all active TCP ports</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ss -at</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show both</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ss -aut</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show all active TCP ports and the process that opened it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ss -atp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show all active TCP ports numerically</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ss -atn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show all incoming ssh connections</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ss -t src :22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show all outgoing ssh connections</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ss -t dst :22</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><ul><li><strong>TCP</strong> is a connection oriented protocol that uses a 3-way handshake to establish a connection. Those ports that show a state of LISTEN are waiting for connection requests to a particular service. For example you should see the ssh service in a LISTEN state as it is waiting for connections.</li><li><strong>UDP</strong> is a connectionless protocol that relies on application layer protocols to handle reliability of traffic.</li></ul></blockquote><ol start="11"><li>From <strong>ubu2</strong> exit your ssh connection into <strong>ubuhost</strong> and rerun the command on the <strong><code>ss -at</code></strong>. Instead of <strong>ESTABLISHED</strong> it should now show a state of <strong>TIME-WAIT</strong>. Indicating that the TCP connection is being closed.</li><li>On your debhost, try the command: <code>ss -atn</code> How is this output different? Without the -n option ss attempts to resolve IP addresses to host names (using /etc/hosts) and port numbers to service names (using /etc/services)</li><li>Examine the <strong>/etc/services</strong> file and find which ports are used for the services: ssh, sftp, http</li></ol><p><strong>Answer INVESTIGATION 2 observations / questions in your lab log book.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-3-using-a-bash-script-to-test-connectivity-to-all-hosts-on-the-local-network">Investigation 3: Using a bash script to test connectivity to all hosts on the local network<a href="#investigation-3-using-a-bash-script-to-test-connectivity-to-all-hosts-on-the-local-network" class="hash-link" aria-label="Direct link to Investigation 3: Using a bash script to test connectivity to all hosts on the local network" title="Direct link to Investigation 3: Using a bash script to test connectivity to all hosts on the local network">​</a></h2><p>In this investigation you will use a bash script that will ping the hosts on our local network to test if they are connected to the network. The script has already been provided for you.</p><ol><li>Clone the GitHub repository (on your ubuhost) that contains the script.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone git@github.com:OSL745/pingtest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Change to the pingtest directory.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ~/pingtest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>View the script (using <code>cat</code> or opening it in a text editor. Do not make any changes). Try to predict exactly what the script will do.</li><li>Try the script with both your VMs (<strong>ubu1</strong> and <strong>ubu2</strong>) running.</li></ol><p><img loading="lazy" alt="pingtestallonline" src="/OSL745/assets/images/pingtest1-6dc7ffa51d4c8dc8a0173ecd38a1e442.png" width="447" height="112" class="img_ev3q"></p><ol start="5"><li>Shutdown <strong>ubu2</strong>. <strong>ubu1</strong> should be running. Run the script again. You should see the following output.</li></ol><p><img loading="lazy" alt="pingtestubu2offline" src="/OSL745/assets/images/pingtest2-e7089f1e442e2a0a96494deec4f8fe97.png" width="445" height="111" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lab-3-sign-off-show-instructor">Lab 3 Sign-Off (Show Instructor)<a href="#lab-3-sign-off-show-instructor" class="hash-link" aria-label="Direct link to Lab 3 Sign-Off (Show Instructor)" title="Direct link to Lab 3 Sign-Off (Show Instructor)">​</a></h2><p>Follow the submission instructions that your Professor provides.</p><p><strong>Backup ALL of your VMs!</strong></p><p>If you have successfully completed this lab, make a new backup of all of your virtual machines onto your USB Key.</p><p><strong>Perform the Following Steps:</strong></p><ol><li>On your <strong>ubuhost</strong> issue the commands and show your professor the output:</li></ol><ul><li>Successfully run the pingtest script on your <strong>ubuhost</strong></li><li><code>cat /etc/hosts</code> on <strong>ubuhost</strong>, <strong>ubu1</strong> and <strong>ubu2</strong></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exploration-questions">Exploration Questions<a href="#exploration-questions" class="hash-link" aria-label="Direct link to Exploration Questions" title="Direct link to Exploration Questions">​</a></h2><ol><li>What is a port?</li><li>What command will set your IP configuration to 192.168.55.22/24 ?</li><li>What is the difference between UDP and TCP?</li><li>What port number is used for DHCP servers?</li><li>What is the function of the file <code>/etc/hosts</code> ?</li><li>What tool is used to show you a list of current TCP connections?</li><li>How to you set persistent static IP addresses in Ubuntu?</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Seneca-ICTOER/OERTemplate/tree/main/docs/Labs/lab3.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/OSL745/Labs/lab2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 2 - Creating and Using Virtual Machines</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/OSL745/Labs/lab4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab 4 - Securing Networks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#lab-preparation" class="table-of-contents__link toc-highlight">Lab Preparation</a><ul><li><a href="#purpose-and-objectives-of-lab-3" class="table-of-contents__link toc-highlight">Purpose and Objectives of Lab 3</a></li><li><a href="#minimum-required-materials" class="table-of-contents__link toc-highlight">Minimum Required Materials</a></li><li><a href="#linux-command-reference" class="table-of-contents__link toc-highlight">Linux Command Reference</a></li></ul></li><li><a href="#investigation-1-configuring-a-virtual-network" class="table-of-contents__link toc-highlight">Investigation 1: Configuring A Virtual Network</a><ul><li><a href="#part-1-configuring-a-private-network-via-virtual-machine-manager" class="table-of-contents__link toc-highlight">Part 1: Configuring a Private Network (Via Virtual Machine Manager)</a></li><li><a href="#part-2-configure-the-static-network-connection-using-command-line-tools" class="table-of-contents__link toc-highlight">Part 2: Configure the static network connection using command line tools</a></li></ul></li><li><a href="#investigation-2-managing-your-new-network" class="table-of-contents__link toc-highlight">Investigation 2: Managing Your New Network</a><ul><li><a href="#part-1-using-etchosts-file-for-local-hostname-resolution" class="table-of-contents__link toc-highlight">Part 1: Using /etc/hosts File for Local Hostname Resolution</a></li><li><a href="#part-2-network-connectivity-and-network-service-troubleshooting-utilities" class="table-of-contents__link toc-highlight">Part 2: Network Connectivity and Network Service Troubleshooting Utilities</a></li></ul></li><li><a href="#investigation-3-using-a-bash-script-to-test-connectivity-to-all-hosts-on-the-local-network" class="table-of-contents__link toc-highlight">Investigation 3: Using a bash script to test connectivity to all hosts on the local network</a></li><li><a href="#lab-3-sign-off-show-instructor" class="table-of-contents__link toc-highlight">Lab 3 Sign-Off (Show Instructor)</a></li><li><a href="#exploration-questions" class="table-of-contents__link toc-highlight">Exploration Questions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OSL745 - Administration of Open Source Systems</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/OSL745/">Contents</a></li><li class="footer__item"><a href="#" id="pwa-button" class="footer__link-item" hidden>Install as an App</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Jason Carman.</div></div></div></footer></div>
<script src="/OSL745/assets/js/runtime~main.bf56544f.js"></script>
<script src="/OSL745/assets/js/main.cb4cd872.js"></script>
</body>
</html>
"use strict";(self.webpackChunkOERTemplate=self.webpackChunkOERTemplate||[]).push([[540],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=p(a),m=r,g=d["".concat(s,".").concat(m)]||d[m]||c[m]||o;return a?n.createElement(g,l(l({ref:t},u),{},{components:a})):n.createElement(g,l({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5720:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=a(3117),r=(a(7294),a(3905));const o={id:"lab9",title:"Lab 9 - Amazon RDS Relational Database Service",sidebar_position:9,description:"Configure the RDS."},l="Lab 9 - RDS",i={unversionedId:"Labs/lab9",id:"Labs/lab9",title:"Lab 9 - Amazon RDS Relational Database Service",description:"Configure the RDS.",source:"@site/docs/Labs/lab9.md",sourceDirName:"Labs",slug:"/Labs/lab9",permalink:"/OSL745/Labs/lab9",draft:!1,editUrl:"https://github.com/Seneca-ICTOER/OERTemplate/tree/main/docs/Labs/lab9.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{id:"lab9",title:"Lab 9 - Amazon RDS Relational Database Service",sidebar_position:9,description:"Configure the RDS."},sidebar:"courseNotesSidebar",previous:{title:"Lab 8 - DNS & SSL",permalink:"/OSL745/Labs/lab8"},next:{title:"Lab 10 - Elastic Beanstalk",permalink:"/OSL745/Labs/lab10"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Creating a RDS instance",id:"creating-a-rds-instance",level:2},{value:"Connecting to your database from www",id:"connecting-to-your-database-from-www",level:2},{value:"Installing and Configuring Wordpress",id:"installing-and-configuring-wordpress",level:2},{value:"Blog Post:",id:"blog-post",level:3},{value:"Temporarily shutting down your database:",id:"temporarily-shutting-down-your-database",level:3},{value:"Lab 9 Sign-Off (Show Instructor)",id:"lab-9-sign-off-show-instructor",level:2},{value:"Exploration Questions",id:"exploration-questions",level:2}],u={toc:p};function c(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lab-9---rds"},"Lab 9 - RDS"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"This week's lab will cover the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Creating a Relational Database Service (RDS) instance"),(0,r.kt)("li",{parentName:"ul"},"Connecting to your RDS")),(0,r.kt)("p",null,"In this lab, you will create a database using the Relational Database Service. You will then test connecting to it from your ",(0,r.kt)("strong",{parentName:"p"},"www")," instance. You will use this database in ",(0,r.kt)("strong",{parentName:"p"},"lab 10")," to install and deploy Wordpress using Elastic Beanstalk."),(0,r.kt)("h2",{id:"creating-a-rds-instance"},"Creating a RDS instance"),(0,r.kt)("p",null,"Start your session in the Learner Lab by clicking on the ",(0,r.kt)("strong",{parentName:"p"},"Start Lab")," button. Once the red dot has turned green, click on it to enter the Learner Lab and access the AWS Console interface. You are going to create a new RDS instance."),(0,r.kt)("p",null,"From the ",(0,r.kt)("strong",{parentName:"p"},"Console Home")," navigate to ",(0,r.kt)("strong",{parentName:"p"},"Database")," > ",(0,r.kt)("strong",{parentName:"p"},"RDS"),". See the following screenshot for reference."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Relational Database",src:a(2817).Z,width:"710",height:"903"})),(0,r.kt)("p",null,"Click ",(0,r.kt)("strong",{parentName:"p"},"Create database")," (part way down the screen). Use the following options."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Standard create"),(0,r.kt)("li",{parentName:"ol"},"Engine type: ",(0,r.kt)("strong",{parentName:"li"},"MariaDB")),(0,r.kt)("li",{parentName:"ol"},"Engine Version: ",(0,r.kt)("strong",{parentName:"li"},"MariaDB 11.4.4")," (or current latest version available)"),(0,r.kt)("li",{parentName:"ol"},"Templates: ",(0,r.kt)("strong",{parentName:"li"},"Dev/Test")),(0,r.kt)("li",{parentName:"ol"},"DB instance identifier: ",(0,r.kt)("strong",{parentName:"li"},"wordpress-db")),(0,r.kt)("li",{parentName:"ol"},"Master username: ",(0,r.kt)("strong",{parentName:"li"},"admin")),(0,r.kt)("li",{parentName:"ol"},"Credentials management: ",(0,r.kt)("strong",{parentName:"li"},"Self Managed")),(0,r.kt)("li",{parentName:"ol"},"Auto generate a password: ",(0,r.kt)("strong",{parentName:"li"},"Checked")),(0,r.kt)("li",{parentName:"ol"},"DB instance class: ",(0,r.kt)("strong",{parentName:"li"},"db.t3.micro")),(0,r.kt)("li",{parentName:"ol"},"Allocated storage: ",(0,r.kt)("strong",{parentName:"li"},"5 GiB")),(0,r.kt)("li",{parentName:"ol"},"Enable storage autoscaling: ",(0,r.kt)("strong",{parentName:"li"},"Unchecked")),(0,r.kt)("li",{parentName:"ol"},"Virtual private cloud (VPC): ",(0,r.kt)("strong",{parentName:"li"},"Wordpress VPC")),(0,r.kt)("li",{parentName:"ol"},"DB subnet group: ",(0,r.kt)("strong",{parentName:"li"},"Create new DB Subnet Group")," (if you're redoing your database creation, there will already be an entry here. Make sure you're using the ",(0,r.kt)("em",{parentName:"li"},"Wordpress VPC")," in the setting above!)"),(0,r.kt)("li",{parentName:"ol"},"Public access: ",(0,r.kt)("strong",{parentName:"li"},"No")),(0,r.kt)("li",{parentName:"ol"},"VPC security group: ",(0,r.kt)("strong",{parentName:"li"},"Choose existing")),(0,r.kt)("li",{parentName:"ol"},"Existing VPC security groups:",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Remove default VPC")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Add ",(0,r.kt)("em",{parentName:"strong"},"Wordpress Database SG"))," (look to see that it's there below the dropdown after you select it)"))),(0,r.kt)("li",{parentName:"ol"},"Availability Zone: ",(0,r.kt)("strong",{parentName:"li"},"us-east-1a")),(0,r.kt)("li",{parentName:"ol"},"Monitoring > Enable Enhanced monitoring: ",(0,r.kt)("strong",{parentName:"li"},"Unchecked")),(0,r.kt)("li",{parentName:"ol"},"Below the Monitoring section, Additional configuration > Initial database name: ",(0,r.kt)("strong",{parentName:"li"},"wordpress")," (Write the database name down! You will need this later.)"),(0,r.kt)("li",{parentName:"ol"},"Enable automated backups: ",(0,r.kt)("strong",{parentName:"li"},"Unchecked")),(0,r.kt)("li",{parentName:"ol"},"Enable encryption: ",(0,r.kt)("strong",{parentName:"li"},"Unchecked"))),(0,r.kt)("p",null,"Click ",(0,r.kt)("strong",{parentName:"p"},"Create database"),"."),(0,r.kt)("p",null,"This will take a few minutes to create. Once the database has finished creating, click on the ",(0,r.kt)("em",{parentName:"p"},"View connection details")," button by the green success message at the top of the page. This gives you your database password."),(0,r.kt)("p",null,"Store the following connection information about your RDS instance in your lab logbook or a saved document. You'll need it later:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Endpoint")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Initial database name")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Master username")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Master password"))),(0,r.kt)("h2",{id:"connecting-to-your-database-from-www"},"Connecting to your database from www"),(0,r.kt)("p",null,"Login to your ",(0,r.kt)("strong",{parentName:"p"},"www")," instance, and install the mariadb client."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install mariadb-client-core\n")),(0,r.kt)("p",null,"From your terminal, issue the following command to connect to your database. Be sure to substitute the credentials you wrote down earlier."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"mysql -u admin -h **endpoint** -p\n")),(0,r.kt)("p",null,"Enter your Master password when prompted. You should see the following screen indicating a successful connection."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"MariaDB connected",src:a(5804).Z,width:"710",height:"156"})),(0,r.kt)("p",null,"Issue the following command to display the databases."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"show databases;\n")),(0,r.kt)("p",null,"Disconnect from the database."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"quit;\n")),(0,r.kt)("h2",{id:"installing-and-configuring-wordpress"},"Installing and Configuring Wordpress"),(0,r.kt)("p",null,"Install Wordpress using apt."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install wordpress\n")),(0,r.kt)("p",null,"Create a virtual host file in ",(0,r.kt)("strong",{parentName:"p"},"/etc/apache2/sites-available/wordpress.conf")," with the following contents:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Alias /blog /usr/share/wordpress\n<Directory /usr/share/wordpress>\n    Options FollowSymLinks\n    AllowOverride Limit Options FileInfo\n    DirectoryIndex index.php\n    Order allow,deny\n    Allow from all\n</Directory>\n<Directory /usr/share/wordpress/wp-content>\n    Options FollowSymLinks\n    Order allow,deny\n    Allow from all\n</Directory>\n")),(0,r.kt)("p",null,"Enable the new WordPress site"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo a2ensite wordpress\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Use systemctl to restart the apache service.")),(0,r.kt)("p",null,"Edit the file ",(0,r.kt)("strong",{parentName:"p"},"/etc/wordpress/config-",(0,r.kt)("a",{parentName:"strong",href:"http://www.username.mystudentproject.ca.php"},"www.username.mystudentproject.ca.php"))," where username is your Seneca username. Add the following contents (changing values where appropriate)."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"<?php\ndefine('DB_NAME', 'wordpress');\ndefine('DB_USER', 'admin');\ndefine('DB_PASSWORD', 'yourdbpassword');\ndefine('DB_HOST', 'yourdbendpoint');\ndefine('WP_CONTENT_DIR', '/usr/share/wordpress/wp-content');\n?>\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open a web browser and enter the following url: ",(0,r.kt)("a",{parentName:"li",href:"http://www.username.mystudentproject.ca/blog/wp-admin/install.php"},"http://www.username.mystudentproject.ca/blog/wp-admin/install.php")),(0,r.kt)("li",{parentName:"ul"},"You should see a Wordpress Welcome/Setup page. Follow the prompts on screen and enter the appropriate information.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Use the ",(0,r.kt)("strong",{parentName:"li"},"Database Name"),", ",(0,r.kt)("strong",{parentName:"li"},"Username")," and ",(0,r.kt)("strong",{parentName:"li"},"Password")," you configured above."),(0,r.kt)("li",{parentName:"ul"},"Set the title to Your Name's Blog. For example for me it would be \"Jason Carman's Blog\""),(0,r.kt)("li",{parentName:"ul"},"Set the username to your Seneca ID."),(0,r.kt)("li",{parentName:"ul"},"Set the password to your Seneca ID. You may need to check the box to ",(0,r.kt)("strong",{parentName:"li"},"Confirm use of weak password")),(0,r.kt)("li",{parentName:"ul"},"Set the email to your Seneca email address."),(0,r.kt)("li",{parentName:"ul"},'Click "Install Wordpress", you should see a "Success!" message.')))),(0,r.kt)("h3",{id:"blog-post"},"Blog Post:"),(0,r.kt)("p",null,"Add a blog post detailing the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"How did you find this lab?"),(0,r.kt)("li",{parentName:"ul"},"What was the most difficult part for you?"),(0,r.kt)("li",{parentName:"ul"},"What was the easiest part for you?")),(0,r.kt)("h3",{id:"temporarily-shutting-down-your-database"},"Temporarily shutting down your database:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Navigate to ",(0,r.kt)("strong",{parentName:"li"},"Aurora and RDS")," > ",(0,r.kt)("strong",{parentName:"li"},"Databses"),"."),(0,r.kt)("li",{parentName:"ul"},"Select the radio button beside ",(0,r.kt)("strong",{parentName:"li"},"wordpress-db")),(0,r.kt)("li",{parentName:"ul"},"Click on ",(0,r.kt)("strong",{parentName:"li"},"Actions")," > ",(0,r.kt)("strong",{parentName:"li"},"Stop temporarily"))),(0,r.kt)("p",null,"This will shutdown your database for 7 days and pause billing. You may need to repeat this."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: You will need to have your database running to access your Wordpress site.")),(0,r.kt)("h2",{id:"lab-9-sign-off-show-instructor"},"Lab 9 Sign-Off (Show Instructor)"),(0,r.kt)("p",null,"Show your professor the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A successful connection to the database from your www instance."),(0,r.kt)("li",{parentName:"ul"},"Your blog post")),(0,r.kt)("h2",{id:"exploration-questions"},"Exploration Questions"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"What is an RDS?"),(0,r.kt)("li",{parentName:"ol"},"How is this lab similar to ",(0,r.kt)("strong",{parentName:"li"},"Assignment 1"),"?")))}c.isMDXComponent=!0},5804:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mariadb-connect-02efcfdd231cdea0930ce5c57fac206a.png"},2817:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/rds-9dc21d46de223eb9245d762cb0175f9d.png"}}]);